{"version":3,"sources":["Components/Authentication/AuthHelperMethods.js","Components/HeaderComponent/HeaderComponent.js","Components/Authentication/withAuth.js","assets/images/study.png","assets/images/strategy.png","App.js"],"names":["AuthHelperMethods","login","_callee","data","route","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","axios","post","headers","Content-Type","then","res","_this","setToken","token","catch","error","alert","stop","test","props","history","replace","loggedIn","getToken","isTokenExpired","decode","exp","Date","now","err","console","log","idToken","localStorage","setItem","concat","getItem","logout","removeItem","getConfirm","answer","HeaderComponent","this","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","className","onClick","onRouteChange","style","cursor","Component","withAuth","AuthComponent","Auth","_Component","AuthWrapped","_getPrototypeOf2","Object","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_len","arguments","length","args","Array","_key","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","state","confirm","loaded","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_Kenneth_Cartel_Desktop_My_Projects_MERN_frontend_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","setState","module","exports","__webpack_require__","p","App","onClickStudentMenu","_Components_HeaderComponent_HeaderComponent__WEBPACK_IMPORTED_MODULE_9__","src","trainerImg","alt","studentImg"],"mappings":"gMAGqBA,mDAIjBC,4CAAQ,SAAAC,EAAOC,EAAMC,GAAb,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aAIM,sDAJNF,EAAAE,KAAA,EAMEC,IAAMC,KAFF,sDAEYT,EAAM,CACxBU,QAAS,CACLC,eAAgB,oCAGnBC,KAAK,SAAAC,GACFC,EAAKC,SAASF,EAAIb,KAAKgB,SAM1BC,MAAM,SAAAC,GAMHC,MAAM,uBAxBV,wBAAAd,EAAAe,SAAArB,mEA6BRsB,KAAO,WACHP,EAAKQ,MAAMC,QAAQC,QAAQ,kBAO/BC,SAAW,WAEP,IAAMT,EAAQF,EAAKY,WACnB,QAASV,IAAUF,EAAKa,eAAeX,SAG3CW,eAAiB,SAACX,GACd,IAEI,OADgBY,IAAOZ,GACXa,IAAMC,KAAKC,MAAQ,IAMnC,MAAOC,GAEH,OADAC,QAAQC,IAAI,kDACL,SAIfnB,SAAW,SAACoB,GAERC,aAAaC,QAAQ,WAArB,UAAAC,OAA2CH,UAG/CT,SAAW,WAEP,OAAOU,aAAaG,QAAQ,kBAGhCC,OAAS,WAELJ,aAAaK,WAAW,kBAG5BC,WAAa,WAET,IAAIC,EAASf,IAAOd,EAAKY,YAEzB,OADAO,QAAQC,IAAI,oBACLS,iICjFMC,0LACR,IAAA9B,EAAA+B,KACL,OACIC,EAAA3C,EAAA4C,cAAA,WACID,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,qBACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,aACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,OACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,8BACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,6CACXF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,oCAAhB,SAEJF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,0CACXF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,0CAAhB,eACAF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,wCAAhB,kBACAF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,uCAAuCC,QAAS,kBAAMnC,EAAKQ,MAAM4B,cAAc,WAAWC,MAAO,CAAEC,OAAQ,YAA3H,eAMpBN,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,0BACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,aACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,OACXF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,mCACXF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,kCAAhB,qBAxBaK,wKCC9B,SAASC,EAASC,GAAe,IAEtCC,EAAO,IAAI3D,IAGjB,gBAAA4D,GAAA,SAAAC,IAAA,IAAAC,EAAA7C,EAAA8C,OAAAC,EAAA,EAAAD,CAAAf,KAAAa,GAAA,QAAAI,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAArD,EAAA8C,OAAAQ,EAAA,EAAAR,CAAAf,MAAAc,EAAAC,OAAAS,EAAA,EAAAT,CAAAF,IAAAY,KAAAC,MAAAZ,EAAA,CAAAd,MAAAP,OAAA2B,MAEIO,MAAQ,CACJC,QAAS,KACTC,QAAQ,GAJhB5D,EAAA,OAAA8C,OAAAe,EAAA,EAAAf,CAAAF,EAAAD,GAAAG,OAAAgB,EAAA,EAAAhB,CAAAF,EAAA,EAAAmB,IAAA,qBAAAC,MAAA,WAWQ,GAAKtB,EAAK/B,WAMN,IACI,IAAMgD,EAAUjB,EAAKd,aACrBT,QAAQC,IAAI,mBAAoBuC,GAChC5B,KAAKkC,SAAS,CACVN,QAASA,EACTC,QAAQ,IAKhB,MAAO1C,GACHC,QAAQC,IAAIF,GACZwB,EAAKhB,SACLK,KAAKvB,MAAMC,QAAQC,QAAQ,eAjB/BqB,KAAKvB,MAAMC,QAAQC,QAAQ,YAbvC,CAAAqD,IAAA,SAAAC,MAAA,WAqCQ,OAA0B,IAAtBjC,KAAK2B,MAAME,OACP7B,KAAK2B,MAAMC,SACXxC,QAAQC,IAAI,cAGRY,EAAA3C,EAAA4C,cAACQ,EAAD,CAAehC,QAASsB,KAAKvB,MAAMC,QAASkD,QAAS5B,KAAK2B,MAAMC,YAIpExC,QAAQC,IAAI,kBACL,MAIJ,SAnDnBwB,EAAA,CAAiCL,uDCTrC2B,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2MCUlCC,6MAEJ5B,KAAO,IAAI3D,MAMXwF,mBAAqB,WACnBvE,EAAKQ,MAAMC,QAAQC,QAAQ,iGAJ3BS,QAAQC,IAAI,4CAYZ,OAFAD,QAAQC,IAAI,oBAGVY,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,OACbF,EAAA3C,EAAA4C,cAACuC,EAAA,EAAD,MAIAxC,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,mBACbF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,aACbF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,OACbF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,4BACbF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,iCACbF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,uCAAuCC,QAASJ,KAAKwC,oBAClEvC,EAAA3C,EAAA4C,cAAA,WAAKD,EAAA3C,EAAA4C,cAAA,OAAKwC,IAAKC,IAAYC,IAAI,MAC/B3C,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,qBAAhB,YAEFF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,wCACbF,EAAA3C,EAAA4C,cAAA,WAAKD,EAAA3C,EAAA4C,cAAA,OAAKwC,IAAKG,IAAYD,IAAI,MAC/B3C,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,qBAAhB,YAEFF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,wCACbF,EAAA3C,EAAA4C,cAAA,QAAMC,UAAU,qBAAhB,WAGJF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,iCAAf,eAGAF,EAAA3C,EAAA4C,cAAA,OAAKC,UAAU,iCAAf,2BA3CEK,aAyDHC,sBAAS8B","file":"static/js/6.dc469902.chunk.js","sourcesContent":["import decode from 'jwt-decode';\r\nimport axios from 'axios';\r\n\r\nexport default class AuthHelperMethods {\r\n\r\n    // Initializing important variables\r\n\r\n    login = async (data, route) => {\r\n\r\n        // Get a token from api server using the fetch api\r\n        // let url = 'http://localhost:3001/users/signin';\r\n        let url = 'https://backend-3tocorp.herokuapp.com/users/signin/';\r\n\r\n        await axios.post(url, data, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setToken(res.data.token) // Setting the token in localStorage\r\n                // if (res.status === 200) {\r\n                //     this.props.onRouteChange('home');\r\n                // }\r\n                // console.log(res.data.token);\r\n            })\r\n            .catch(error => {\r\n                // this.setState({\r\n                //     signInErrorMessage: true\r\n                // })\r\n                // console.log(error);\r\n                // return error;\r\n                alert('Wrong Credentials');\r\n            });\r\n\r\n    }\r\n\r\n    test = () => {\r\n        this.props.history.replace('/student')\r\n    }\r\n\r\n    // onChangeRoute = () => {\r\n    //     this.props.history.replace('/student')\r\n    // }\r\n\r\n    loggedIn = () => {\r\n        // Checks if there is a saved token and it's still valid\r\n        const token = this.getToken() // Getting token from localstorage\r\n        return !!token && !this.isTokenExpired(token) // handwaiving here\r\n    }\r\n\r\n    isTokenExpired = (token) => {\r\n        try {\r\n            const decoded = decode(token);\r\n            if (decoded.exp < Date.now() / 1000) { // Checking if token is expired.\r\n                return true;\r\n            }\r\n            else\r\n                return false;\r\n        }\r\n        catch (err) {\r\n            console.log(\"expired check failed! Line 42: AuthService.js\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    setToken = (idToken) => {\r\n        // Saves user token to localStorage\r\n        localStorage.setItem('id_token', `Bearer ${idToken}`)\r\n    }\r\n\r\n    getToken = () => {\r\n        // Retrieves the user token from localStorage\r\n        return localStorage.getItem('id_token')\r\n    }\r\n\r\n    logout = () => {\r\n        // Clear user token and profile data from localStorage\r\n        localStorage.removeItem('id_token');\r\n    }\r\n\r\n    getConfirm = () => {\r\n        // Using jwt-decode npm package to decode the token\r\n        let answer = decode(this.getToken());\r\n        console.log(\"Recieved answer!\");\r\n        return answer;\r\n    }\r\n\r\n    // fetch = (url, options) => {\r\n    //     // performs api calls sending the required authentication headers\r\n    //     const headers = {\r\n    //         'Accept': 'application/json',\r\n    //         'Content-Type': 'application/json'\r\n    //     }\r\n    //     // Setting Authorization header\r\n    //     // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n    //     if (this.loggedIn()) {\r\n    //         headers['Authorization'] = 'Bearer ' + this.getToken()\r\n    //     }\r\n\r\n    //     return fetch(url, {\r\n    //         headers,\r\n    //         ...options\r\n    //     })\r\n    //         .then(this._checkStatus)\r\n    //         .then(response => response.json())\r\n    // }\r\n\r\n    // _checkStatus = (response) => {\r\n    //     // raises an error in case response status is not a success\r\n    //     if (response.status >= 200 && response.status < 300) { // Success status lies between 200 to 300\r\n    //         return response\r\n    //     } else {\r\n    //         var error = new Error(response.statusText)\r\n    //         error.response = response\r\n    //         throw error\r\n    //     }\r\n    // }\r\n}","import React, { Component } from 'react';\r\nimport './HeaderComponent.css';\r\n\r\nexport default class HeaderComponent extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"header__component\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"header__component__content\">\r\n                                <div className=\"header__component__content--logo--content\">\r\n                                    <span className=\"header__component__content--logo\">Logo</span>\r\n                                </div>\r\n                                <div className=\"header__component__content--user--info\">\r\n                                    <span className=\"header__component__content--id--number\">13001011300</span>\r\n                                    <span className=\"header__component__content--username\">Kenneth Cartel</span>\r\n                                    <span className=\"header__component__content--usertype\" onClick={() => this.props.onRouteChange('signin')} style={{ cursor: 'pointer' }}>Logout</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sub__header__component\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"sub__header__component--content\">\r\n                                <span className=\"sub__header__component--button\">lorem</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport AuthHelperMethods from './AuthHelperMethods';\r\n\r\n/* A higher order component is frequently written as a function that returns a class. */\r\nexport default function withAuth(AuthComponent) {\r\n\r\n    const Auth = new AuthHelperMethods();\r\n\r\n\r\n    return class AuthWrapped extends Component {\r\n\r\n        state = {\r\n            confirm: null,\r\n            loaded: false\r\n        }\r\n\r\n\r\n        /* In the componentDid<ount, we would want to do a couple of important tasks in order to verify the current users authentication status\r\n        prior to granting them enterance into the app. */\r\n        componentWillMount() {\r\n            if (!Auth.loggedIn()) {\r\n\r\n                this.props.history.replace('/login')\r\n            }\r\n            else {\r\n                /* Try to get confirmation message from the Auth helper. */\r\n                try {\r\n                    const confirm = Auth.getConfirm()\r\n                    console.log(\"confirmation is:\", confirm);\r\n                    this.setState({\r\n                        confirm: confirm,\r\n                        loaded: true,\r\n                    })\r\n\r\n                }\r\n                /* Oh snap! Looks like there's an error so we'll print it out and log the user out for security reasons. */\r\n                catch (err) {\r\n                    console.log(err);\r\n                    Auth.logout()\r\n                    this.props.history.replace('/login');\r\n                }\r\n            }\r\n        }\r\n\r\n        render() {\r\n\r\n            if (this.state.loaded === true) {\r\n                if (this.state.confirm) {\r\n                    console.log(\"confirmed!\")\r\n                    return (\r\n                        /* component that is currently being wrapper(App.js) */\r\n                        <AuthComponent history={this.props.history} confirm={this.state.confirm} />\r\n                    )\r\n                }\r\n                else {\r\n                    console.log(\"not confirmed!\")\r\n                    return null\r\n                }\r\n            }\r\n            else {\r\n                return null\r\n            }\r\n\r\n        }\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/study.68481a9a.png\";","module.exports = __webpack_public_path__ + \"static/media/strategy.736d5744.png\";","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport trainerImg from './assets/images/study.png';\r\nimport studentImg from './assets/images/strategy.png';\r\nimport HeaderComponent from './Components/HeaderComponent/HeaderComponent';\r\nimport AuthHelperMethods from './Components/Authentication/AuthHelperMethods';\r\n\r\n//Our higher order component\r\nimport withAuth from './Components/Authentication/withAuth';\r\n\r\nclass App extends Component {\r\n\r\n  Auth = new AuthHelperMethods();\r\n\r\n  componentDidMount() {\r\n    console.log('mounted');\r\n  }\r\n\r\n  onClickStudentMenu = () => {\r\n    this.props.history.replace('/students');\r\n  }\r\n\r\n  render() {\r\n\r\n    // console.log(route, true)\r\n    console.log(\"Rendering Appjs!\")\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <HeaderComponent />\r\n        {/* <HomeComponent\r\n          onClickStudentMenu={this.onClickStudentMenu}\r\n        /> */}\r\n        <div className=\"home__component\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"home__component__content\">\r\n                <div className=\"home__component__content--box\">\r\n                  <div className=\"home__component__content--inner--box\" onClick={this.onClickStudentMenu}>\r\n                    <div><img src={trainerImg} alt=\"\" /></div>\r\n                    <span className=\"inner__box--title\">Student</span>\r\n                  </div>\r\n                  <div className=\"home__component__content--inner--box\">\r\n                    <div><img src={studentImg} alt=\"\" /></div>\r\n                    <span className=\"inner__box--title\">Trainer</span>\r\n                  </div>\r\n                  <div className=\"home__component__content--inner--box\">\r\n                    <span className=\"inner__box--title\">Admin</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"home__component__content--box\">\r\n                  lorem ipsum\r\n                            </div>\r\n                <div className=\"home__component__content--box\">\r\n                  lorem ipsum\r\n                            </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default withAuth(App);\r\n"],"sourceRoot":""}