(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{35:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var a=t(36),o=t.n(a),r=t(37),s=t(29),c=t(41),i=t.n(c),l=t(38),u=t.n(l),m=function e(){var n=this;Object(s.a)(this,e),this.login=function(){var e=Object(r.a)(o.a.mark(function e(t,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://backend-3tocorp.herokuapp.com/users/signin/",e.next=3,u.a.post("https://backend-3tocorp.herokuapp.com/users/signin/",t,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){n.setToken(e.data.token)}).catch(function(e){alert("Wrong Credentials")});case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),this.test=function(){n.props.history.replace("/student")},this.loggedIn=function(){var e=n.getToken();return!!e&&!n.isTokenExpired(e)},this.isTokenExpired=function(e){try{return i()(e).exp<Date.now()/1e3}catch(n){return console.log("expired check failed! Line 42: AuthService.js"),!1}},this.setToken=function(e){localStorage.setItem("id_token","Bearer ".concat(e))},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){localStorage.removeItem("id_token")},this.getConfirm=function(){var e=i()(n.getToken());return console.log("Recieved answer!"),e}}},75:function(e,n,t){},76:function(e,n,t){},77:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAf0lEQVRIS+2UWw6AIAwE5b49Tu+rkaQNbixLlBpN5LtMhz4oy8ARkbUNU9XCrnUDEIiwXoLnwczW7CPr0PgHe+PTSrFnYPB3jZvVJLJm20dXExMwoMXTOY5A9pLhBWENiz4fTHAwvgo9W28H34UiPBc8y7a1rsYp4NlQn+PPgTfJxVbgydFpIQAAAABJRU5ErkJggg=="},78:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAjUlEQVRIS+2VyxHAIAhEQ4nWoeVsHZl0mIwHMoTI5+LBTLzCPnCFkbbg1FoLEe0qrQA4PCl5wdba6cUBmHozEEG5oAUfgjVUi6N4LxqCrY4kfJTjgj0Pe1cM/yA4OwnWCEpLHh7/4Nsyzwr2L5PzWhBLFG3eaL1TjzcN3DuaYsWa4OinkbdKT0UGuj74ApZ+hRcBt6zKAAAAAElFTkSuQmCC"},79:function(e,n,t){},80:function(e,n,t){e.exports=t.p+"static/media/loginImg.cfce86c1.png"},89:function(e,n,t){"use strict";t.r(n);var a=t(36),o=t.n(a),r=t(37),s=t(29),c=t(31),i=t(33),l=t(32),u=t(34),m=t(0),p=t.n(m),g=(t(75),t(76),t(77)),h=t.n(g),d=t(78),A=t.n(d),f=function(e){function n(){return Object(s.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this,n=this.props.signInErrorMessage;return p.a.createElement("div",{className:"login_commponent__content--login--form"},p.a.createElement("span",{className:"login__component__content--logo"},"Logo"),n?p.a.createElement("div",{className:"login__component--error--message"},p.a.createElement("span",null,"Incorrect username or password")):null,p.a.createElement("div",{className:"login__component__content--main--form"},p.a.createElement("form",{onSubmit:this.props.onSubmitForm},p.a.createElement("div",{className:"input--container",style:{marginBottom:"60px"}},p.a.createElement("img",{src:h.a,alt:""}),p.a.createElement("input",{type:"text",className:"login__component__content--input",onChange:function(n){return e.props.onEmailChange(n)},placeholder:"Type your student ID number"})),p.a.createElement("div",{className:"input--container"},p.a.createElement("img",{src:A.a,alt:""}),p.a.createElement("input",{type:"password",className:"login__component__content--input",onChange:function(n){return e.props.onPasswordChange(n)},placeholder:"Type your password"})),p.a.createElement("div",{className:"input--container--text"},p.a.createElement("span",{className:"input--forgot--password"},"Forgot Password?"),p.a.createElement("span",{className:"input--register"},"Register")),p.a.createElement("div",{className:"input--container--button"},p.a.createElement("button",{className:"login__component__content--button"},"Login")))))}}]),n}(m.Component),E=(t(79),t(80)),_=t.n(E),b=function(e){function n(){return Object(s.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return p.a.createElement("div",{className:"login__component__content--image"},p.a.createElement("span",{className:"login__component__content--title"},"Language School"),p.a.createElement("span",{className:"login__component__content--sub--title  "},"please make sure your account is secure"),p.a.createElement("div",{className:"login__component__content--login--image"},p.a.createElement("img",{src:_.a,alt:""})))}}]),n}(m.Component),w=t(35),v=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).Auth=new w.a,t.onEmailChange=function(e){t.setState({signInEmail:e.target.value})},t.onPasswordChange=function(e){t.setState({signInPassword:e.target.value})},t.onSubmitForm=function(){var e=Object(r.a)(o.a.mark(function e(n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=JSON.stringify({username:t.state.signInEmail,password:t.state.signInPassword}),e.next=4,t.Auth.login(a).then(function(e){if(!1===e)return alert("Sorry those credentials don't exist!");t.props.history.replace("/")}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.state={signInEmail:"",signInPassword:"",signInErrorMessage:!1},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.state.signInErrorMessage;return p.a.createElement("div",{className:"login__component"},p.a.createElement("div",{className:"container"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"login__component__content"},p.a.createElement(f,{onEmailChange:this.onEmailChange,onPasswordChange:this.onPasswordChange,onSubmitForm:this.onSubmitForm,signInErrorMessage:e}),p.a.createElement(b,null)))))}}]),n}(m.Component);n.default=v}}]);
//# sourceMappingURL=5.1af16a2b.chunk.js.map